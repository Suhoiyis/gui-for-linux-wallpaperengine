# 测试矩阵 - 应该在哪些环境上测试

## 核心原理

对于 Python + GTK4 + Libadwaita 的前端 GUI 应用：
- **桌面环境/窗口管理器** 比发行版更重要（影响 UI 渲染、主题、窗口管理）
- **显示服务器** (X11 vs Wayland) 是关键变量（决定窗口、输入、性能）
- **依赖版本** 只要满足最低要求，发行版影响很小

## 优先级 1：必测环境（关键测试对象）

### 你已有的 Arch 环境
| 窗口管理器 | 显示服务器 | 优先级 | 状态 | 备注 |
|-----------|----------|-------|------|------|
| Niri | Wayland | ⭐⭐⭐ | ✅ 已有 | 你的主开发环境，基准 |
| GNOME | X11 | ⭐⭐ | ⚠️ 安装了但有问题 | 传统桌面环境，用户众多 |
| GNOME | Wayland | ⭐⭐⭐ | ⏳ 需要测 | 切换到 Wayland 会话 |
| KDE Plasma | X11 | ⭐⭐ | ⚠️ 基本可用 | 需要修复问题 |
| KDE Plasma | Wayland | ⭐⭐⭐ | ⏳ 需要测 | 现代化方向 |
| Hyprland | Wayland | ⭐⭐ | ⏳ 需要安装 | 现代化平铺 WM，快速增长 |
| Sway | Wayland | ⭐ | ⏳ 需要安装 | i3-like 轻量级平铺 WM |

**小计**：在你的 Arch 系统上有 7 种重要组合需要测试

### 虚拟机环境（用来验证主流发行版）
| 发行版 | 桌面环境 | 显示服务器 | 优先级 | 备注 |
|--------|---------|----------|-------|------|
| Ubuntu 24.04 LTS | GNOME | X11 | ⭐⭐ | 用户基数最大 |
| Ubuntu 24.04 LTS | GNOME | Wayland | ⭐⭐ | 官方推荐 |
| Fedora 41 | GNOME | X11 | ⭐⭐ | GNOME 官方合作 |
| Fedora 41 | GNOME | Wayland | ⭐⭐ | 现代化方向 |
| Fedora 41 | KDE Plasma | X11 | ⭐ | KDE 支持好 |
| Debian 12 | GNOME | X11 | ⭐ | 稳定发行版代表 |
| Xubuntu 24.04 | Xfce | X11 | ⭐ | 轻量级环境 |

**小计**：虚拟机上需要测试 7 种组合（可以共用虚拟机，多次安装不同桌面）

## 优先级 2：重要环境（有时间再测）

| 环境 | 原因 |
|------|------|
| Linux Mint 22 + Cinnamon | Cinnamon 有专门的用户群 |
| Linux Mint 22 + MATE | 传统 GTK 环境 |
| Arch + LXQt | 轻量级 Qt 环境 |
| openSUSE + KDE | KDE 官方合作发行版 |

## 优先级 3：可选环境（社区反馈后再考虑）

- Budgie、Enlightenment 等小众环境
- CentOS/AlmaLinux（企业用户，优先级低）
- 特殊 Wayland 合成器（如 Weston）

## 总结：最少需要测试的组合数

| 类别 | 数量 | 说明 |
|------|------|------|
| 本地 Arch 测试 | 7 个 | 已有系统，改配置即可 |
| 虚拟机测试 | 3-4 个 VM | 每个 VM 可装多个桌面，共测试 7 种组合 |
| **总计** | **14 种组合** | 核心测试范围 |

## 快速上手建议

### 第一阶段（本周）：本地 Arch 系统
1. ✅ Niri（已有）- 作为基准
2. 🔄 GNOME X11 - 检查现有问题
3. 🔄 GNOME Wayland - 切换会话并测试
4. 🔄 KDE X11 - 检查现有问题
5. 🔄 KDE Wayland - 切换会话并测试
6. ⏳ 安装并测试 Hyprland
7. ⏳ 安装并测试 Sway

### 第二阶段（第二周）：虚拟机
1. Ubuntu 24.04（GNOME X11 + Wayland）
2. Fedora 41（GNOME X11 + Wayland，可选装 KDE）
3. Debian 12 或 Xubuntu（轻量级验证）

### 预计时间
- 本地测试：每个环境 30-60 分钟（装软件 + 测试）
- 虚拟机：每个 VM 2-3 小时（装系统 + 装依赖 + 测试）
- 总计：**约 2-3 周**