# Changelog

<p>
    <strong>English</strong> | 
    <a href="CHANGELOG_ZH.md">ÁÆÄ‰Ωì‰∏≠Êñá</a>
<p>


> [!NOTE]
> üåê Language Note: This English documentation was generated by AI and translating tools. While we strive for accuracy, some technical nuances might be lost. If you spot any linguistic errors, please feel free to  or submit a Pull Request. Your help is much appreciated!

## v0.11.2 (2026-02-22)
### Bug Fixes
- System Tray Overhaul: Fixed a critical issue in the AppImage release where the system tray icon failed to render and the right-click context menu was unresponsive due to sandbox environment restrictions.
- Wallpaper Cycling Logic: Resolved a "ghost timer" bug in the automatic wallpaper cycling feature. The rotation timer will no longer continue counting down in the background after clicking "Stop Wallpaper," preventing wallpapers from unexpectedly resuming. The cycle timer is now perfectly synchronized with the active playback state.

## v0.11.1 (2026-02-21)
### BUG fixes
- Fixed an issue where the AppImage package did not correctly recognize system icon themes on some Linux distributions. Now AppImage contains necessary icon resources, and system icons will be used first during runtime to ensure that interface icons are displayed normally.
- Fixed an issue where AppImage could not restart properly. Now AppImage contains complete restart logic. When the user clicks the restart button during use, the application will correctly close the current instance and start a new instance, ensuring the normal use of the restart function.


## v0.11.0 (2026-02-19)
### Publish AppImage software package (*\.appimage) and Arch software packageÔºà\*.pkg.tar.zst Ôºâ
- The AppImage software package suitable for Linux has been released. Users can directly download and run it without installation, providing great convenience and compatibility.
- At the same time, Arch software packages that can be installed locally using `sudo pacman -U` are released to facilitate Arch users to install through the package manager.
  - It has not been released to the AUR repository yet and is being prepared...
- **special attention**ÔºöCurrently only the gui application is included, not the backend engine. Users need to install the backend engine before they can use the gui for wallpaper management.
  - There are subsequent plans to integrate the back-end engine into the software package to provide a one-click installation experience. Technical solutions and compatibility issues are currently being evaluated.
- **special attention**ÔºöYou may encounter some compatibility issues or user feedback during the early stages of release. We will continue to follow up and quickly release repair versions to ensure a stable and smooth user experience.
  - We very much welcome users to feedback any problems or suggestions encountered during use in GitHub Issues to help us continuously improve and optimize the application.
- **special attention**ÔºöAlthough we have tried our best to test the compatibility of AppImage and Arch software packages, due to the diversity of Linux distributions, there may still be some environment-specific problems. If you encounter any problems during use, please be sure to provide detailed environment information and error logs in GitHub Issues so that we can quickly locate and solve the problem.
- We also plan to add software package support for other Linux distributions in future versions, such as Debian/Ubuntu's DEB packages, Fedora's RPM packages, etc., to meet the needs of more users.
- All in all, we are very much looking forward to the release of this new version and hope it can bring a better wallpaper management experience to Linux users. Thank you all for your support and feedback, we will continue to work hard to improve and optimize the app!

## v0.10.6 (2026-02-15)
### UI fixes
- Fixed a visual problem where items under `performance` and `settings` were not wrapped in borders.
  - Now each item will be surrounded by a light gray border, and the line spacing between each item has been fine-tuned to make it more coordinated.
- Fixed visual issue with toggle switches under `Settings`:
  - Adapted the appropriate switch slider color and sliding track color for both light mode and dark mode.
- Fixed the accent color display problem when switching between `grid` and `list` under `home`

### Performance fixes
- Fixed the problem of serious lag and slow response when switching between Grid and List.


## v0.10.5 (2026-02-13)

### Theming & Visual Polish
- **Deep Light Mode Compatibility**:
  - Completely refactored the application-wide CSS stylesheets, systematically replacing 70+ hardcoded color values.
  - Replaced all forced dark backgrounds and white text with `@window_bg_color` and `@theme_fg_color` and their alpha variants.
  - The application now perfectly adapts to the system's dark/light theme, completely resolving the issue of invisible text in light mode.
- **System Accent Color Sync**:
  - Completely removed all hardcoded blue (`#007bff`) from CSS.
  - Fully integrated GTK/Libadwaita system variables (e.g., `@accent_bg_color`, `@accent_fg_color`). All buttons, selection states, switches, and shadows now automatically follow the system's "Accent Color" setting for perfect visual unity.
- **Capsule Glow Design**:
  - Redesigned the wallpaper name box in the grid view with a semi-transparent dark gray rounded capsule shape.
  - Replaced the original thick solid border with a 30% transparent ultra-fine stroke and a 40% transparent outer glow shadow, creating a softer and more modern atmosphere.
- **Accessibility**:
  - Re-introduced and optimized `:focus-visible` styles for all navigation buttons and switches. Clear system accent color borders now provide visual feedback during keyboard navigation.

### Core Stability & PR Refinements
- **Robust Config Fallback**:
  - **Solving the "None Trap" at the source**: Refactored the underlying logic of `ConfigManager.get()`. It now intelligently identifies when a key's value is explicitly set to `null` in the configuration file and correctly falls back to the developer-provided `default` value.
  - **Full Falsy Value Compatibility**: Completely resolved the issue where valid values like `volume=0` (mute), `fps=0`, and `screenshotDelay=0` were incorrectly overridden due to Python's falsy evaluation.
- **Intelligent Playback History De-duplication**: Optimized `HistoryManager` logic to move an existing entry to the top when the same wallpaper is reapplied, rather than creating a duplicate.
- **GIF Smart Thumbnails**:
  - Fixed the issue where GIF thumbnail logic was lost during refactoring.
  - **Transparency Support**: Fixed transparency loss in the Pillow path (RGB -> RGBA), ensuring transparent GIF previews render correctly.
  - Optimized frame sampling logic to default to the 15th frame (0-indexed), effectively avoiding potential black screens or empty fade-in frames at the beginning.

### Monitoring & Stability
- **Screenshot Stats Fix**:
  - Resolved a race condition where CPU usage occasionally showed as 0% during fast screenshots (e.g., for video wallpapers).
  - **Multi-stage Subprocess Polling**: Introduced an intelligent polling mechanism to ensure the actual `linux-wallpaperengine` process is accurately captured in Xvfb mode.
  - **High-precision Sampling**: Added a manual CPU time difference calculation fallback for extremely short tasks and dynamically increased monitoring frequency to 0.1s ([#10](https://github.com/Suhoiyis/gui-for-linux-wallpaperengine/issues/10)).
- **Type Safety & Monitoring Optimization**:
  - Fixed field access consistency issues for `TypedDict` in `PerformanceMonitor`.
  - Added a reasonable upper bound check for CPU sampling values to eliminate mathematical sampling artifacts in short tasks.
- **Markup Security Protection**: Added mandatory XML escaping to all Markdown/BBCode conversion logic, completely preventing Pango UI rendering anomalies caused by special characters.

## v0.10.4 (2026-02-12)

### Visual Feedback
- **Animated Screenshot Button**:
  - Optimized interaction feedback for screenshot operations. Clicking the screenshot button now automatically switches to a rotating loading spinner (`Gtk.Spinner`).
  - Resolved the previous issue where only a static icon was shown during screenshots, leaving users unable to confirm if the process was running ([#17](https://github.com/Suhoiyis/gui-for-linux-wallpaperengine/issues/17)).

### Desktop Integration & Deployment
- **Smart Desktop Shortcut**:
  - Implemented a **startup self-healing mechanism**: the application automatically checks the `.desktop` file on every launch. If the path is invalid (e.g., the folder was moved), it automatically repairs it to the correct current path.
- **Zero-Config AppImage Support**:
  - **Full Automatic Integration**: After downloading and running the AppImage, no manual action is required. The application automatically detects and creates the correct system-level desktop shortcut (`.desktop`), providing an out-of-the-box installation experience.
  - **Smart Path Correction**: The shortcut automatically points to the AppImage file itself rather than an internal temporary path, and can self-repair after the file is moved or upgraded ([#18](https://github.com/Suhoiyis/gui-for-linux-wallpaperengine/issues/18)).

### Hardware Compatibility
- **Dynamic Screen Detection**:
  - Completely removed all hardcoded `"eDP-1"` screen identifiers from the codebase.
  - Added a smart screen recognition algorithm that automatically detects the Primary Display via `xrandr` at startup.
  - **Multi-monitor Compatibility**: Perfectly supports various non-standard naming environments such as HDMI, DisplayPort (DP), and Virtual machines, resolving default screen recognition errors on desktops or external monitor setups ([#19](https://github.com/Suhoiyis/gui-for-linux-wallpaperengine/issues/19)).

### UI & Interaction Refinement
- **Hamburger Menu Click Area Fix**:
  - Refactored the CSS style hierarchy of the `MenuButton`, resolving the interaction issue where the hamburger menu button "looked large but was only clickable in the center."
  - The entire button area (including padding) now responds to clicks, maintaining a consistent interaction experience with other navigation buttons (Home/Settings).

### Theming & Visual Polish
- **Light Mode Support**:
  - Completely refactored the application's CSS stylesheets, removing all hardcoded dark background colors (e.g., `#1d1d1d`) and white text.
  - Fully introduced **GTK/Libadwaita Named Colors** (e.g., `@window_bg_color`, `@theme_fg_color`). The application now perfectly adapts to the system's dark/light theme automatically.
  - Optimized translucency effects by using the `alpha()` function instead of fixed opacity, ensuring readability across different backgrounds.
  - Resolved the long-standing "suitable for dark mode only" issue ([#2](https://github.com/Suhoiyis/gui-for-linux-wallpaperengine/issues/2)).

---

## v0.10.3 (2026-02-11)
### Hamburger Menu Refinement
- **Feature Expansion**: Added **Check for Updates** and **Welcome Guide** entries to the menu.
- **Note: These two features are only basically completed and will be further enriched in the future.**

### Update Checker Enhancements
- **Smart Error Handling**:
  - **Rate Limit Recognition**: Specifically optimized GitHub API 403 error handling. When a rate limit is triggered, a precise "Rate limit exceeded" message is now displayed instead of a vague network error.
  - **Empty Release Handling**: Gracefully handles 404 status (no releases in repository) by returning a virtual low version to ensure logic closure.
- **Version Comparison Optimization**: Enhanced version number parsing logic to support semantic versioning with suffixes (e.g., `0.10.3-beta`), ensuring accurate comparisons.
- **Network Security**: Added the necessary `User-Agent` header to API requests, complying with GitHub API calling specifications.

---

## v0.10.3-beta (2026-02-10)

### Playback History System
- **Core Feature**: Added a playback history feature that automatically tracks the last 30 wallpaper playback records.
- **Interaction Interface**:
  - Implemented a dedicated **HistoryDialog** showing wallpaper thumbnails, nicknames (italic), original IDs, and playback time (MM-DD HH:MM).
  - **Sync Logic**: The play button in the history record is now perfectly synchronized with the main window. Clicking it updates the top bar status, sidebar preview, and current wallpaper identifier in real-time.
  - **Empty State Optimization**: Refactored empty state logic using `Gtk.Stack`. When there are no records, a centered "No Recent Playback History" prompt is displayed, resolving stability issues where the placeholder occasionally failed to show.
  - **Management Features**: Supports one-click clearing of history and displays real-time capacity statistics (current records/30).
- **Entry Integration**: Added a **Playback History** entry to the global hamburger menu.

### Nickname System Integration
- **Data Persistence**: Established the `NicknameManager` core module, supporting independent persistence and automatic management of `nicknames.json`.
- **Global Adaptation**: The history list, search results, and sidebar now prioritize displaying user-set nicknames.
- **Interaction Closure**: Implemented full interaction logic for the right-click menu, sidebar edit button, and the "Manage Nicknames" popup on the Settings page.

### Global Navigation & Menu
- **Hamburger Menu**: Refactored the button group on the right side of the top bar into a custom Popover menu.
- **Visual Reinforcement**: Set the **Restart** menu item to bold and **Quit Application** to red bold.
- **CSS Fixes**: Removed "double border" shadow artifacts from the menu button and optimized top bar button alignment and spacing.

### About Dialog Modernization
- **Component Upgrade**: Migrated from the deprecated `Adw.AboutWindow` to `Adw.AboutDialog` (Libadwaita 1.5+).
- **Dynamic Log Sync**: Implemented automatic extraction of the latest version content from `CHANGELOG.md` and conversion to AppStream HTML, with perfect support for Chinese display.
- **Professionalism Boost**: The window now displays the application icon with rounded corners (`GUI_rounded.png`) and provides a one-click function to copy system environment debugging information.
- **Stability Enhancement**: Fixed XML parsing crashes caused by special characters like `&` and `<b>` tags.

---

## v0.10.3-alpha (2026-02-09)

### Global Navigation
- **Global Application Menu (Hamburger Menu)**: Added a standard "Hamburger Menu" (‚ò∞) to the far right of the top bar, consolidating application-level global operations for clearer interface logic.
- **Graceful Quit**:
  - Provided a red **Quit Application** option in the global menu, resolving the issue of being unable to easily exit the program in environments without a system tray.
  - **Security Confirmation**: A red secondary confirmation dialog pops up when clicking exit to prevent accidental wallpaper stops.
- **About Window**: Added a standard About dialog showing the application version, author information, and GitHub repository link.
- **Layout Tweaks**: Optimized the spacing of the button group on the right side of the top bar to make the restart and menu buttons more visually harmonious.

**Note: Except for "Quit Application", other items in the "Hamburger Menu" (‚ò∞) are not yet fully functional and are being progressed...**

---

## v0.10.2 (2026-02-08)

### UI & Style Improvements
- **Sidebar Overhaul**:
  - **Layout Scheme A Implementation**: Moved the "Nickname Edit Button" from the title row to the information capsule row, completely freeing up title space and resolving layout chaos caused by frequent line breaks in long titles.
  - **Vertical Alignment**: Achieved pixel-level left margin alignment (unified 20px) for all sidebar components (title, original name, capsule row, type, tags, description), significantly enhancing visual refinement.
  - **Width Lock**: Fixed the sidebar width at **370px**, completely eliminating horizontal "jitter" when switching wallpapers or when text length changes.
  - **Smart Text Truncation**: Added `Ellipsize` (end ellipsis) to the Folder ID capsule, combined with `hexpand` spring spacers to ensure the edit button is always stably right-aligned.
  - **Tag Flow Spacing Correction**: Explicitly set the row and column spacing of `tags_flow` to match the compactness of the Type capsule, resolving visual issues with excessive gaps between tags.
- **Edit Interaction Optimization**: The edit button is now located on the far right of the information row, maintaining functional accessibility without interfering with title reading.
- **Codebase Cleanup**: Removed a large number of legacy comments and redundant logic from `sidebar.py`, improving code maintainability.

### Feature Enhancement
- **Full Nickname Support**:
  - Core Logic: Added `NicknameManager` to implement persistent storage and automatic cleanup of nicknames, providing a unified `get_display_name` interface.
  - Interaction Upgrade: Added a ‚úèÔ∏è edit button to the details bar and a "Set Nickname" option to the right-click menu.
  - Batch Management: Added a "Manage Nicknames" entry to the Settings page, supporting batch selection, deletion, or modification of nicknames via a popup.
  - Visual Optimization: Nicknames are displayed in **italic bold** in the left Grid view; the sidebar shows a double-line structure of "Nickname + Original Name (small gray text)".
  - Search Enhancement: The search box now matches both nicknames and original titles of wallpapers, improving search efficiency.

### Bug Fixes
- **Rendering Stability Fix**: Fixed a regression where `markdown_to_pango` crashed due to `get_display_name` returning a tuple, causing the right sidebar content to become empty.
- **Page Index Sync**: Fixed a logic error where the "Index/Total" in the yellow capsule of the sidebar became 0/0 after setting a nickname.
- **Management Popup Optimization**: Enhanced the robustness of parent window retrieval, explicitly passed the main window reference, and fixed `set_margin_all` API misuse and missing `Gio` import, resolving the issue where the management button was unresponsive.
- **Dynamic Preview Compatibility**: Refactored GIF thumbnail loading logic using `GdkPixbufAnimation` to ensure live wallpaper previews in popups and lists no longer appear blank.

---

## v0.10.1 (2026-02-08)

### UI/UX Refinement
- **Visual Alignment Refactoring**: Performed a deep alignment refactoring for compact mode, unifying margins for titles, ID capsules, and detail grids, eliminating 20px style conflicts and achieving overall visual alignment.
- **Compact Mode Side Toolbar**: Moved the "Stop", "Random", and "Jump to Current" buttons to a vertical toolbar on the right side of the preview image, optimizing space utilization and allowing for more complete information display below.
- **Stop Button Visual Reinforcement**: Optimized CSS rules to ensure the "Stop" button icon is displayed in red in all modes.
- **Preview Image Size Fix**: Fixed the issue where large wallpaper previews could stretch the layout, ensuring consistent thumbnail sizes through strict `Gtk.ScrolledWindow` constraints.
- **Screen Selector Optimization**: Replaced the screen selector in compact mode with a native `Gtk.DropDown` and centered it to improve visual balance and consistency.
- **Interaction Detail Optimization**: Optimized the icon logic for switching to compact mode to more intuitively reflect the target state.

### Feature Enhancement
- **Global Numeric Jump**: Introduced a numeric index jump feature in both normal and compact modes, supporting quick wallpaper positioning via an input box and achieving automatic synchronization across modes.
- **Multi-monitor Control Enhancement**: Added a target screen selector to compact mode. All operations (Apply, Stop, Jump) now take effect on the selected display, with automatic preview image synchronization.

### Architecture & Performance
- **Sidebar Component Migration**: Migrated the main window sidebar to the new `AnimatedPreview` component, unifying image rendering logic and removing redundant code.
- **Performance Optimization**: Implemented **Object Pooling** for the compact mode thumbnail bar, completely eliminating interface flickering and stuttering during scrolling.

### Bug Fixes
- **Restart Logic Fix**: Fixed the issue where restarting via the GUI after starting with the `--hidden` parameter still resulted in hidden mode.

---

## v0.10.0 (2026-02-08)

### New Features
- **Compact Preview Mode**:
  - An independent mini-window mode designed specifically for **Tiling Window Managers** (Niri, Hyprland, Sway).
  - **Dual-window Architecture**: Separated from the main window and mutually exclusive, resolving the issue of the main window being too wide in tiling layouts.
  - **Streamlined Layout**: Default size of **300x700**, focusing on wallpaper preview and quick switching.
  - **Core Interaction**:
    - Large top image preview (supports GIF animation playback).
    - Bottom **5-thumbnail circular navigation**, supporting infinite scrolling.
    - Keyboard `‚Üê` `‚Üí` shortcuts for switching, with explicit navigation buttons on both sides of the interface.
  - **Information Display**: Retains key information (Title, Size, Index) using the classic **blue capsule ID** style (supports click-to-copy).
  - **Full Functionality**: Includes core features such as Apply Wallpaper, Stop, Lucky (random), and Jump to Current Wallpaper.

### Improvements
- **Wayland Compatibility**: Fixed the issue where the window might be invisible after restarting the application in a Wayland (Niri) environment.
- **Visual Optimization**: Comprehensively adjusted control sizes in mini-window mode (thumbnails 40px, buttons 30px) to maximize screen space savings.
- **Configuration Integration**: Added window rule configuration guides for Niri and Hyprland in the advanced documentation.

---

## v0.9.2 (2026-02-07)

### New Features
- **Screenshot History**: Added a screenshot history panel to the Performance page, recording detailed information for the last 10 screenshots (time, wallpaper, duration, peak CPU/memory). Supports viewing thumbnails, one-click opening of screenshot files or their folders, and provides a clear history function.
- **Screenshot Experience Enhancement**: The popup after a successful screenshot now displays the thumbnail of the corresponding wallpaper, sets "Open Image" as the default recommended action, and optimizes fonts and layout for better aesthetics and readability.

### Improvements
- **Monitoring Layout Overhaul**: Split the global thread list at the top of the Performance page and integrated them into individual process cards under Process Details. Each process now has an independent "Thread Details" dropdown drawer with refined border styles, making the interface structure clearer and more cohesive.
- **Thread Naming Optimization**: Optimized the thread list display on the Performance page. Internal monitoring threads are explicitly named "PerfMonitor" to avoid displaying system-generated truncated names (e.g., "Thread-1(_moni..."); while maintaining smart restoration of truncated thread names from the backend engine (e.g., "linux-w:disk$0"), improving readability.
- **Scrollbar Style Optimization**: Changed the scrollbar to a thinner 3px width, semi-transparent white, and added fade-in/fade-out transition animations for a more elegant and low-profile look.

### Bug Fixes
- **Icon Display**: Fixed the issue where the application displayed a default icon in the Dock/taskbar. By registering the `pic/icons/` directory with the icon theme, setting the program run name (prgname), and optimizing `.desktop` file generation logic (adding `StartupWMClass` and synchronizing ID naming), perfect association between the window and custom icon was achieved.
- **History Refresh**: Fixed the issue where new screenshots failed to refresh in the list in real-time after the screenshot history exceeded 10 entries.
- **CPU Monitoring**: Fixed the issue where CPU usage could not be collected (showing 0%) due to the short process lifecycle when taking fast screenshots (e.g., for video wallpapers) in an Xvfb environment.
- **Performance Monitoring**: Fixed the issue where CPU usage was displayed too high. Previously, it showed single-core usage (which could exceed 100%), but it has now been standardized to total system usage (0-100%), consistent with system monitors (e.g., GNOME System Monitor).
- **Config Saving**: Fixed program crashes caused by incorrect method names when saving Workshop paths and Autostart settings. Modifying paths or toggling autostart options no longer reports errors and takes effect without a restart.

---

## v0.9.1 (2026-02-07)

### New Features
- **Log Filter**: Added a filter to the log viewer on the Settings page, allowing categorization by "All", "Controller", "Engine", and "GUI" for quick problem localization.
- **UI Optimization**: ~~Added a red "Stop Wallpaper" button to the right wallpaper details bar for quickly stopping the wallpaper on the current screen~~ ----- Cancelled.

### Bug Fixes
- **System Integration**: Fixed a crash caused by a missing method when clicking "Create Desktop Shortcut" on the settings page. Desktop shortcuts can now be created or updated normally.

### Improvements
- **Performance Page**: Optimized the layout of the screenshot history panel, reducing line spacing between titles and description text for a more compact interface; removed the flat style of the Clear button and added a border to make it more prominent.
- **Popup Experience**: Uniformly optimized font sizes and layouts for all popups to improve readability.
- **Log Management**: Optimized the log refresh mechanism; the view automatically refreshes when switching filter conditions.
- **Copy Feature**: The Copy Logs button now only copies the log content under the current filtered view, facilitating precise sharing of debugging information.

---

## v0.9.0 (2026-02-06)

### New Features
- **Performance Monitor Page**: A brand new System Monitor page for real-time monitoring of wallpaper engine resource usage.
  - **Overview Cards**: Displays three core metrics: Total CPU, Total Memory, and Active Threads.
  - **History Charts**: Cairo-based Sparkline components showing CPU/memory trends for the last 60 seconds.
  - **Process Details**: Displays independent metrics for Frontend (GUI), Backend (rendering engine), and Tray (tray) processes.
  - **Dynamic Coloring**: CPU usage automatically changes color based on load (green <20%, orange <40%, red ‚â•40%), and memory uses blue.
  - **Thread List**: Expandable to view detailed thread names for each process (3-column layout).
  - **Wallpaper Details**: The Backend process can be expanded to show thumbnails, titles, and IDs of wallpapers currently running on each monitor.

### Improvements
- **Wallpaper Management**: Added the `WallpaperManager.get_wallpaper()` method to support quick wallpaper information queries by ID.

### Bug Fixes
- **Tray Monitoring Stability**: Fixed the issue where the Tray process disappeared from the monitoring list when switching wallpapers.

---

## v0.8.11 (2026-02-03)

### New Features
- **Ordered Wallpaper Rotation**: Automatic wallpaper switching now supports multiple order modes. In addition to the default "Random", you can choose to cycle by **Title**, **Size**, **Type**, or **Folder ID**. You can find the new "Cycle Order" option in `Settings > Automation`.

### Bug Fixes
- **Config Stability Enhancement**: Fixed the issue where the mute setting (`silence`) might fail during wallpaper cycling due to abnormal configuration reading. Added strict type checking and default value fallback mechanisms for configuration values.
- **Log Diagnostics**: Enhanced debug logs for the wallpaper switch controller, now allowing detailed tracking of audio modes and property application status.

---

## v0.8.10 (2026-02-02)

### New Features
- **Wayland Advanced Tweaks (P3-15)**:
  - Added a **Wayland Tweaks** settings panel that automatically detects the current session type.
  - Supports **Pause Only Active** (`--fullscreen-pause-only-active`): Pauses the wallpaper only when the fullscreen window is in the foreground focus.
  - Supports **Ignore App ID List** (`--fullscreen-pause-ignore-appid`): Allows specifying application IDs (e.g., Docks, Bars) that do not trigger a pause, resolving issues with incorrect wallpaper pausing in some desktop environments.

---

## v0.8.9 (2026-02-02)

### UI Modernization (UI/UX)
- **Native Icon Replacement**: Comprehensively replaced Emoji icons in the interface with GTK standard symbolic icons (Adwaita Symbolic Icons), improving display consistency and aesthetics across different Linux distributions.
- **List View Overhaul**:
  - Redesigned the wallpaper list item layout, adding **File Size** and **Index/Total** displays.
  - Optimized information hierarchy and color schemes (Tags purple, Index yellow, Size green), removing redundant capsule backgrounds for a cleaner interface.
- **Visual Consistency**: Unified the status display styles of the top bar and sidebar.

---

## v0.8.8 (2026-02-02)

### Developer Tools
- **In-app Restart**: Added a üîÑ restart button to the far right of the top bar. Clicking it quickly restarts the GUI application, facilitating development iterations and configuration reloading.

### UI Optimization
- **Counter Style**: Optimized the display of the wallpaper counter in the top bar, changing it to eye-catching plain yellow text and removing redundant background boxes.

---

## v0.8.7 (2026-02-01)

### Experience Fixes
- **Screenshot Target Correction**: Fixed the issue where the screenshot button incorrectly captured the "current preview wallpaper." Clicking screenshot will now strictly capture the wallpaper effect "currently playing on the screen," complying with the what-you-see-is-what-you-get logic. A prompt will appear if no wallpaper is running on the current screen.

---

## v0.8.6 (2026-02-01)

### Visual Experience Upgrade
- **Dynamic Preview (P2-2)**: The details page in the right sidebar now supports playing GIF animations! When a GIF wallpaper is selected, the preview image will automatically play instead of remaining static.
  - *Technical Note*: Implemented a manual frame scheduler based on `GdkPixbufAnimation`, resolving white screen/Paintable assertion errors caused by directly loading GIFs in some GTK4 environments.
- **Smart Thumbnails (P3-13)**: GIF thumbnails in the left wallpaper list now automatically capture the 15th frame, effectively avoiding black screens or empty frames before fade-in.
- **High-quality Scaling**: Uses the LANCZOS algorithm to generate clearer thumbnails.

### UI Fixes
- **Apply Button Adaptation**: Fixed the issue where the advanced application menu (dropdown drawer) was incorrectly displayed in single or dual-screen modes. The split button is now only displayed when the number of screens is ‚â• 3 and in Diff mode, simplifying operation logic.

---

## v0.8.4 (2026-02-01)

### New Features
- **Multi-monitor Control Enhancements**:
  - **Link/Unlink Mode**: Added a üîó toggle button to the top bar for one-click application of wallpapers to all screens (Same mode) or only the current screen (Diff mode).
  - **Advanced Application Menu**: The Apply button in the sidebar has been upgraded to a split button. Clicking the dropdown arrow allows manual selection of specific screens to apply to (supporting complex scenarios like 2+1).

---

## v0.8.3 (2026-01-31)

### New Features
- **Wallpaper Counter**: Displays the current wallpaper index/total (N/M) to the right of the "CURRENTLY USING" title bar, using a striking style consistent with the wallpaper name color.
- **Sidebar Index Display**: Displays the index/total (N/M) of the selected wallpaper next to Folder ID and Size in the right sidebar, in a yellow tag style.
- **Real-time Updates**: Counters automatically update during wallpaper switching, screen switching, searching/sorting/reloading.

### UI Improvements
- **Tag Spacing Optimization**: Unified the spacing of Folder ID, Size, and Index tags, removing redundant gaps.

---

## v0.8.2 (2026-01-30)

### New Features
- **Command Copy**: Added a üìã button next to "CURRENTLY USING". Hovering shows the currently running backend command, and clicking copies it to the clipboard.

### UI Improvements
- **System Title Bar Support**: Replaced `Adw.ApplicationWindow` with `Gtk.ApplicationWindow`. The title bar is now drawn by the window manager (GNOME/KDE show the title bar, niri/Hyprland do not).
- **Screen Selector Moved to Top Bar**: The üñ• screen selector has been moved from the toolbar to the top left corner of the window, in the same row as the Home/Settings buttons.

### Bug Fixes
- **Tray Random Switch Fix**: Fixed the issue where using the tray's "Random Wallpaper" feature while the window was hidden would unexpectedly bring up the GUI window.

### Wallpaper Size Display
- **Sidebar Disk Usage**: When a wallpaper is selected, the disk size of the wallpaper folder (e.g., "85.1 MB") is displayed next to the Folder ID.
- **Green Tag Style**: Size information uses a green capsule tag, contrasting with the blue Folder ID.

### Wallpaper Sorting
- **Toolbar Sorting Control**: Added a ‚áÖ sorting dropdown menu supporting 5 sorting methods.
- **Sorting Options**:
  - Title - Sort by wallpaper title A-Z
  - Size ‚Üì - Sort by file size from largest to smallest
  - Size ‚Üë - Sort by file size from smallest to largest
  - Type - Sort by wallpaper type (Video/Scene/Web)
  - ID - Sort by folder ID (original default method)
- **Config Persistence**: Sorting options are automatically saved and maintained after restart.

---

## v0.8.1 (2026-01-25)

### User-friendly Error Feedback System
- **Toast Notification System**: Added `Adw.ToastOverlay` support for instant notifications, allowing users to understand issues without checking logs.
- **Path Validation Feedback**: When saving on the Settings page, if the Workshop/Assets path is invalid, a Toast prompt is immediately displayed.
- **Scan Error Detection**: Detects issues such as non-existent paths, empty directories, and JSON parsing failures during wallpaper scanning, and provides friendly prompts.
- **Backend Startup Failure**: Automatically displays an error prompt when the wallpaper engine fails to start, guiding users to check logs for detailed information.

### New Assets Path Configuration
- **Custom Assets Directory**: The Wallpaper Engine assets folder path can be manually specified in Settings > Advanced.
- **Browse Button**: Added folder browse buttons for both Workshop and Assets paths to avoid manual input errors.
- **Path Validation**: Validates path existence when saving settings; invalid paths will automatically clear the configuration and prompt the user.

---

## v0.8.0 (2026-01-24)

### Screenshot Functionality Overhaul
- **True Silent Screenshot**: Intelligently detects and utilizes `Xvfb` for windowless background screenshots (supports toggle).
- **True 4K Sampling**: Forces the backend to render at 3840x2160 resolution, perfectly resolving image cropping issues in tiling window managers (e.g., Niri).
- **Interaction Closure**: Real-time status feedback for the screenshot button (üì∏ -> ‚è≥), providing "Open Image/Folder" shortcuts upon success.
- **Smart Strategy**: Enables high-speed mode (5 frames) for video wallpapers and adaptively extends wait time for Web wallpapers.

### Multi-Monitor Support (Beta)
- **Independent Control**: Select the target display in the top bar of the main interface to set different wallpapers for different screens.
- **Status Self-healing**: Automatically detects screen connection status at startup and intelligently cleans up configurations for disconnected screens to prevent backend errors.
- **Global Management**: "Random" and "Stop" operations in the tray menu automatically apply to all active screens.

### Automation & Experience Upgrade
- **Timed Rotation**: Supports automatic random wallpaper switching at minute intervals (supports multi-monitor).
- **Smart Saving**: Implemented change detection on the Settings page; modifying non-rendering parameters (e.g., autostart, paths) no longer forces a wallpaper restart.
- **System Integration**: One-click generation of desktop shortcuts (`.desktop`) and autostart configurations.

### Advanced Rendering & Audio Control
- **Visual Management**: Added switches to disable Parallax effects and Particle systems, and a selection for Clamping mode.
- **Audio Enhancement**: Added switches to disable Auto Mute and Audio Processing logic.

## v0.7.0 (Early Version)

### System Tray Icon
- Implemented based on `libayatana-appindicator`, with perfect support for Wayland (Niri/Sway/Hyprland) + Waybar environments.

### Code Refactoring
- Split the single-file script into a modular package structure (`py_GUI/`), separating logic from the interface.
- Renamed the project package to `py_GUI` and added the startup script `run_gui.py`.

### Performance Optimization
- Improved loading and caching mechanisms for image assets.

### Stability Fixes
- Fixed deadlock issues caused by subprocess output; logs are now redirected to files instead of pipes.

### UI Streamlining & Interaction Optimization
- **Hide Invalid Property Bar**: Given the limitations of the C++ backend in Wayland environments (Web/Scene properties cannot take effect), the Properties editing area in the sidebar has been temporarily disabled to improve interface cleanliness and avoid misleading functionality (code remains commented out).
- **Style Unification**: Wallpaper display type (Type) now uses the same capsule style as tags for a more unified visual experience.

## v0.5.0

### Log Panel
- **Real-time Log Display**: Real-time display of application and wallpaper engine logs.
- **Log Levels**: Supports DEBUG/INFO/WARNING/ERROR levels.
- **Log Sources**: Distinguishes between Controller/Engine/GUI sources.
- **Log Management**: Clear/Refresh buttons, automatically limited to a maximum of 500 entries.
- **Monospace Font**: Facilitates reading of log content.
- **Color Distinction**: Different log levels use different colors.
- **One-click Copy**: The Copy Logs button copies log content to the system clipboard.

## v0.3.0

### Background/CLI Control
- **Background Startup**: Supports `--hidden/--minimized` startup parameters; runs only in the background after startup with no window displayed.
- **Single-instance CLI Control**: All command-line actions are sent to the same running instance (reusing the GTK main thread to avoid multiple instances).
- **Show/Hide Window**:
  - `--show`: Shows the window (displays it if already running).
  - `--hide`: Hides the window (process remains).
  - `--toggle`: Toggles show/hide status.
- **Quick Actions**:
  - `--refresh`: Rescans and loads the wallpaper library.
  - `--apply-last`: Directly applies the last saved wallpaper.
  - `--quit`: Completely exits the application and background processes.

### Search Functionality
- **Real-time Search**: The top search box supports real-time wallpaper filtering by keywords.
- **Multi-field Matching**: Search scope includes title, description, tags, and folder name.

### Wallpaper Property Editing (Temporarily Disabled)
- **Feature Retained but Hidden**: Due to backend environment limitations, this area is currently hidden in the sidebar. The underlying logic is still retained.

## Early Version Features

### Core Features
- Wallpaper Browsing: Automatically scans the wallpaper library from Steam Workshop.
- Dual View Mode: Toggle between Grid and List views.
- Sidebar Details: Displays large wallpaper image, title, type, tags, and description.
- Wallpaper Application: Directly apply wallpapers by clicking the Apply button or double-clicking a card.
- Right-click Menu: Supports applying, stopping, deleting wallpapers, and opening their folders.
- Random Selection: "I'm feeling lucky" to randomly apply a wallpaper.
- Quick Refresh: Refresh button instantly loads newly downloaded wallpapers (no restart required).
- Auto Apply: Automatically applies the last wallpaper at startup.

### Process Management
- Backend Invocation: Correctly uses the parameter format of `linux-wallpaperengine`.
- Single-instance Control: Automatically pkills old processes before applying to avoid stacking.
- Parameter Integerization: Volume is strictly passed as an integer string to prevent floating-point crashes.

### UI/UX
- Modern Dark Theme: Rounded corners, shadows, hover effects.
- Window Constraints: Sidebar fixed at 320px width, not stretched by images.
- Current Wallpaper Display: Top toolbar displays the name of the currently applied wallpaper.
- Right-click Menu Optimization: Pops up following the mouse position, supporting click-to-select or "press-drag-release" quick operations.
- Stop Button: Quickly stops current wallpaper playback.
- Background Keep-alive Window Hiding: Closing the window hides it to the background (process remains).
