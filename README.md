# Linux Wallpaper Engine Python GUI

ä¸€ä¸ªç°ä»£åŒ–çš„ GTK4/Libadwaita å›¾å½¢ç•Œé¢ï¼Œç”¨äºç®¡ç†å’Œåº”ç”¨ Linux Wallpaper Engine çš„åŠ¨æ€å£çº¸ã€‚

## ğŸ¯ é¡¹ç›®ç›®æ ‡

- **è½»é‡åŒ–**ï¼šç›¸æ¯” Electron ç‰ˆæœ¬ linux-wallpaperengine-guiï¼Œå†…å­˜å ç”¨æ›´ä½ï¼ˆ<150MBï¼‰
- **åŸç”Ÿä½“éªŒ**ï¼šä½¿ç”¨ GTK4 + Libadwaitaï¼Œä¸ GNOME/ç°ä»£ Linux æ¡Œé¢ç¯ä¿
- **æ˜“ç”¨æ€§**ï¼šæä¾›ç›´è§‚çš„å£çº¸æµè§ˆã€é€‰æ‹©ä¸åº”ç”¨ç•Œé¢
- **åŠŸèƒ½å®Œæ•´æ€§**ï¼šé€æ­¥å¯¹æ ‡å®˜æ–¹ Electron GUI çš„åŠŸèƒ½

## âœ… å½“å‰åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **å£çº¸æµè§ˆ**ï¼šä» Steam Workshop è‡ªåŠ¨æ‰«æå£çº¸åº“
- âœ… **åŒè§†å›¾æ¨¡å¼**ï¼šGridï¼ˆç½‘æ ¼ï¼‰ä¸ Listï¼ˆåˆ—è¡¨ï¼‰è§†å›¾åˆ‡æ¢
- âœ… **ä¾§è¾¹æ è¯¦æƒ…**ï¼šæ˜¾ç¤ºå£çº¸å¤§å›¾ã€æ ‡é¢˜ã€ç±»å‹ã€æ ‡ç­¾ã€æè¿°
- âœ… **å£çº¸åº”ç”¨**ï¼šç‚¹å‡» Apply æŒ‰é’®æˆ–åŒå‡»å¡ç‰‡ç›´æ¥åº”ç”¨å£çº¸
- âœ… **éšæœºé€‰æ‹©**ï¼šI'm feeling lucky éšæœºåº”ç”¨ä¸€å¼ å£çº¸
- âœ… **å¿«é€Ÿåˆ·æ–°**ï¼šRefresh æŒ‰é’®å³æ—¶åŠ è½½æ–°ä¸‹è½½çš„å£çº¸ï¼ˆæ— éœ€é‡å¯ï¼‰

### è¿›ç¨‹ç®¡ç†
- âœ… **åç«¯è°ƒç”¨**ï¼šæ­£ç¡®ä½¿ç”¨ `linux-wallpaperengine` çš„å‚æ•°æ ¼å¼
- âœ… **å•å®ä¾‹æ§åˆ¶**ï¼šåº”ç”¨å‰è‡ªåŠ¨ pkill æ—§è¿›ç¨‹ï¼Œé¿å…å †å 
- âœ… **å‚æ•°æ•´æ•°åŒ–**ï¼šéŸ³é‡ä¸¥æ ¼ä¼ é€’ä¸ºæ•´æ•°å­—ç¬¦ä¸²ï¼Œé˜²æ­¢æµ®ç‚¹æ•°å´©æºƒ

### é…ç½®ç®¡ç†
- âœ… **è®¾ç½®é¡µé¢**ï¼šGeneralã€Audioã€Advanced ä¸‰å¤§ç±»é…ç½®
- âœ… **FPS é™åˆ¶**ï¼š1ï½144fps å¯è°ƒ
- âœ… **éŸ³é¢‘æ§åˆ¶**ï¼šé™éŸ³/éŸ³é‡ 0ï½100 è°ƒèŠ‚
- âœ… **ç¼©æ”¾æ¨¡å¼**ï¼šdefault/stretch/fit/fill å››ç§é€‰é¡¹
- âœ… **å…¨å±æš‚åœ**ï¼štoggle å…¨å±æ—¶æš‚åœå£çº¸
- âœ… **é¼ æ ‡ç¦ç”¨**ï¼štoggle ç¦ç”¨é¼ æ ‡äº¤äº’
- âœ… **å±å¹•é€‰æ‹©**ï¼šAdvanced ä¸­æ‰‹å·¥è¾“å…¥å±å¹•åï¼ˆå¦‚ eDP-1ï¼‰
- âœ… **Workshop è·¯å¾„**ï¼šå¯è‡ªå®šä¹‰ Workshop å†…å®¹ç›®å½•

### UI/UX
- âœ… **ç°ä»£æ·±è‰²ä¸»é¢˜**ï¼šåœ†è§’ã€é˜´å½±ã€æ‚¬åœæ•ˆæœ
- âœ… **çª—å£çº¦æŸ**ï¼šä¾§è¾¹æ å›ºå®š 320px å®½åº¦ï¼Œä¸è¢«å›¾ç‰‡æ’‘å®½
- âœ… **å½“å‰å£çº¸æ˜¾ç¤º**ï¼šé¡¶éƒ¨å·¥å…·æ æ˜¾ç¤ºå½“å‰åº”ç”¨çš„å£çº¸åç§°
- âœ… **Stop æŒ‰é’®**ï¼šå¿«é€Ÿåœæ­¢å½“å‰å£çº¸æ’­æ”¾

### æ‰©å±•æ”¯æŒ
- âœ… **é…è‰²è„šæœ¬ IPC**ï¼šåº”ç”¨å£çº¸åè‡ªåŠ¨æ‰§è¡Œ `~/niri/scripts/sync_colors.sh`ï¼ˆè‹¥å­˜åœ¨ï¼‰
- âœ… **ç¼“å­˜ä¼˜åŒ–**ï¼šLRU çº¹ç†ç¼“å­˜ï¼Œé™åˆ¶å†…å­˜å ç”¨

## âŒ å°šç¼ºåŠŸèƒ½ï¼ˆå¯¹æ ‡ linux-wallpaperengine-guiï¼‰

### ä¼˜å…ˆçº§ P1ï¼ˆæ ¸å¿ƒç¼ºå¤±ï¼‰
- âŒ **è‡ªåŠ¨å¯åŠ¨**ï¼šå¯åŠ¨ GUI æ—¶è‡ªåŠ¨åº”ç”¨ä¸Šæ¬¡å£çº¸ï¼ˆä»…ä¿å­˜æœªåº”ç”¨ï¼‰
- âŒ **ç³»ç»Ÿæ‰˜ç›˜**ï¼šæ— æ‰˜ç›˜å›¾æ ‡ä¸æœ€å°åŒ–åŠŸèƒ½
- âŒ **åå°å¸¸é©»**ï¼šçª—å£å…³é—­å³è¿›ç¨‹ç»“æŸï¼Œæ— åå°å®ˆæŠ¤

### ä¼˜å…ˆçº§ P2ï¼ˆåŠŸèƒ½ç¼ºå¤±ï¼‰
- âŒ **å£çº¸å±æ€§ç¼–è¾‘**ï¼šæ—  UI æ˜¾ç¤º `--list-properties` å’Œç¼–è¾‘ `--set-property`
- âŒ **å¤šæ˜¾ç¤ºå™¨ç²¾ç»†ç®¡ç†**ï¼šæ—  per-monitor å£çº¸åˆ†é… UIï¼ˆä»…å•ä¸€ screen rootï¼‰
- âŒ **æœç´¢/ç­›é€‰/æ’åº**ï¼šæ— æœç´¢æ¡†ã€ä»…æœ‰ Grid/List åˆ‡æ¢
- âŒ **åŸå§‹ JSON ç¼–è¾‘**ï¼šæ— åŸå§‹é…ç½®ç¼–è¾‘ç•Œé¢

### ä¼˜å…ˆçº§ P3ï¼ˆå¢å¼ºåŠŸèƒ½ï¼‰
- âŒ **æ—¥å¿—é¢æ¿**ï¼šæ—  Logs è§†å›¾
- âŒ **è‡ªå¯åŠ¨é›†æˆ**ï¼šæ—  systemd å•å…ƒã€æ¡Œé¢æ–‡ä»¶ã€AUR æ‰“åŒ…
- âŒ **åŠ¨æ€å£çº¸é¢„è§ˆ**ï¼šGIF é¢„è§ˆä»…æ˜¾ç¤ºé¦–å¸§ï¼ˆæ€§èƒ½è€ƒè™‘æš‚æœªå®ç°åŠ¨ç”»ï¼‰

## ğŸ—ºï¸ æ¥ä¸‹æ¥çš„è®¡åˆ’

### Phase 1ï¼šç¨³å®šåŒ–ä¸ Bug ä¿®å¤
- [ ] ä¿®å¤ GTK4 å…¼å®¹æ€§é—®é¢˜ï¼ˆä¸»é¢˜ã€æ¸²æŸ“å™¨è­¦å‘Šï¼‰
- [ ] ä¼˜åŒ–å†…å­˜å ç”¨ï¼Œç‰¹åˆ«æ˜¯çº¹ç†ç¼“å­˜ç­–ç•¥
- [ ] å¤„ç†è¾¹ç•Œæƒ…å†µï¼ˆç©ºå£çº¸åº“ã€æŸå JSONã€ç½‘ç»œè¶…æ—¶ç­‰ï¼‰

### Phase 2ï¼šæ ¸å¿ƒåŠŸèƒ½è¡¥å…¨
- [ ] **è‡ªåŠ¨åº”ç”¨ä¸Šæ¬¡å£çº¸**ï¼šå¯åŠ¨æ—¶æ£€æŸ¥ config.jsonï¼Œè‡ªåŠ¨åº”ç”¨ lastWallpaper
- [ ] **ç³»ç»Ÿæ‰˜ç›˜æ”¯æŒ**ï¼šé›†æˆ Gtk.StatusIcon æˆ– DBus Notifications
- [ ] **å£çº¸å±æ€§ç®¡ç†**ï¼š
  - åœ¨è¯¦æƒ…ä¾§æ ä¸‹æ–°å¢"å±æ€§"æŠ˜å åŒº
  - è°ƒç”¨ `linux-wallpaperengine --list-properties <id>` è·å–å¯ç”¨å±æ€§
  - æ ¹æ®å±æ€§ç±»å‹ï¼ˆslider/toggle/color/combolistï¼‰ç”ŸæˆåŠ¨æ€æ§ä»¶
  - åº”ç”¨æ—¶åˆæˆ `--set-property` å‚æ•°åˆ—è¡¨

### Phase 3ï¼šå¢å¼ºä½“éªŒ
- [ ] **å¤šæ˜¾ç¤ºå™¨æ”¯æŒ**ï¼šè‡ªåŠ¨æ£€æµ‹å±å¹•åˆ—è¡¨ï¼Œæä¾›ä¸‹æ‹‰é€‰æ‹©è€Œéæ‰‹å·¥è¾“å…¥
- [ ] **æœç´¢åŠŸèƒ½**ï¼šç®€å•çš„å…³é”®è¯æœç´¢å’ŒæŒ‰æ ‡ç­¾ç­›é€‰
- [ ] **å¿«é€Ÿè®¾ç½®**ï¼šå³é”®èœå•æˆ–å¿«æ·é”®å¿«é€Ÿè°ƒæ•´å¸¸ç”¨å‚æ•°

### Phase 4ï¼šæ‰“åŒ…ä¸å‘å¸ƒ
- [ ] ç¼–å†™ PKGBUILDï¼ˆAURï¼‰
- [ ] ç”Ÿæˆæ¡Œé¢å…¥å£ï¼ˆ.desktopï¼‰ä¸è‡ªå¯åŠ¨è„šæœ¬
- [ ] æ’°å†™å®Œæ•´çš„å®‰è£…ä¸ä½¿ç”¨æ–‡æ¡£

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **è¯­è¨€**ï¼šPython 3.10+
- **UI æ¡†æ¶**ï¼šPyGObject (GTK4) + Libadwaita
- **åç«¯**ï¼šlinux-wallpaperengineï¼ˆC++ å®ç°ï¼‰
- **ä¾èµ–**ï¼š
  ```bash
  python3-gi gir1.2-gtk-4.0 gir1.2-adw-1
  ```

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
sudo apt-get install python3-gi gir1.2-gtk-4.0 gir1.2-adw-1

# è¿è¡Œ
python3 wallpaper_gui.py
```

## ğŸ“ é…ç½®æ–‡ä»¶

ä¿å­˜ä½ç½®ï¼š`~/.config/linux-wallpaperengine-gui/config.json`

ç¤ºä¾‹ï¼š
```json
{
  "fps": 30,
  "volume": 50,
  "scaling": "default",
  "silence": true,
  "noFullscreenPause": false,
  "disableMouse": false,
  "lastWallpaper": "3310692710",
  "lastScreen": "eDP-1"
}
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue ä¸ PRï¼ç‰¹åˆ«æ˜¯ä»¥ä¸‹æ–¹é¢ï¼š
- æ–°åŠŸèƒ½å®ç°ï¼ˆå±æ€§ç¼–è¾‘ã€å¤šæ˜¾ç¤ºå™¨æ”¯æŒç­‰ï¼‰
- Bug ä¿®å¤ä¸æ€§èƒ½ä¼˜åŒ–
- ç¿»è¯‘ä¸æ–‡æ¡£æ”¹è¿›

## ğŸ“„ è®¸å¯è¯

MIT License

---

**æœ€åæ›´æ–°**ï¼š2026-01-20
**ç‰ˆæœ¬**ï¼š0.2-alphaï¼ˆåŸºç¡€åŠŸèƒ½ç¨³å®šï¼Œå¾…åŠŸèƒ½è¡¥å…¨ï¼‰
